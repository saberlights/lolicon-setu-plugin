{
  "manifest_version": 1,
  "name": "Lolicon色图插件 (Lolicon Setu Plugin)",
  "version": "2.1.1",
  "description": "基于Lolicon API v2的高质量Pixiv图片获取插件。支持标签AND/OR组合搜索、关键词模糊搜索、长宽比筛选、AI作品排除、合并转发格式等功能。",
  "author": {
    "name": "久远",
    "url": "https://github.com/saberlights"
  },
  "license": "MIT",
  "homepage_url": "https://github.com/saberlights/lolicon-setu-plugin",
  "repository_url": "https://github.com/saberlights/lolicon-setu-plugin",

  "host_application": {
    "name": "MaiBot",
    "min_version": "0.11.0"
  },

  "keywords": [
    "setu",
    "pixiv",
    "lolicon",
    "image",
    "picture",
    "图片",
    "色图",
    "搜索",
    "API"
  ],
  "categories": [
    "Entertainment",
    "Image"
  ],

  "default_locale": "zh-CN",

  "plugin_info": {
    "is_built_in": false,
    "plugin_type": "entertainment",
    "components": [
      {
        "type": "command",
        "name": "setu",
        "description": "从Lolicon API获取色图",
        "pattern": "/setu",
        "usage": "/setu [数量] [#标签] [关键词] [横图/竖图] [noai] [r18]",
        "examples": [
          "/setu - 获取1张随机图片",
          "/setu help - 显示帮助信息",
          "/setu 3 - 获取3张图片",
          "/setu #萝莉 - 搜索萝莉标签",
          "/setu 原神 - 搜索原神关键词",
          "/setu #白丝,黑丝 - OR搜索",
          "/setu 5 #风景 横图 - 组合筛选"
        ]
      }
    ],
    "features": [
      "Pixiv高质量图源",
      "标签AND/OR组合搜索",
      "关键词模糊搜索（标题、作者、标签）",
      "作者UID筛选",
      "长宽比筛选（横图/竖图/方图/自定义）",
      "AI作品控制（可排除AI作品）",
      "R18内容控制（可配置允许）",
      "合并转发格式发送",
      "命令冷却管理",
      "简短命令格式（#标签）",
      "内置help命令",
      "灵活配置选项",
      "自定义图片代理服务器"
    ],
    "dependencies": {
      "python": [
        {
          "name": "aiohttp",
          "version": ">=3.8.0",
          "required": true,
          "description": "异步HTTP客户端，用于调用Lolicon API"
        }
      ],
      "plugins": [],
      "external_api": [
        {
          "name": "Lolicon API v2",
          "url": "https://api.lolicon.app",
          "description": "提供Pixiv图片数据服务"
        }
      ]
    },
    "config": {
      "config_file": "config.toml",
      "has_default_config": true
    }
  },

  "permissions": [
    "send.image",
    "send.text",
    "send.forward",
    "network.http"
  ],

  "changelog": {
    "2.1.1": {
      "date": "2025-11-10",
      "changes": [
        "修复合并转发消息发送者显示问题",
        "优化代码结构和错误处理",
        "改进配置校验逻辑"
      ]
    },
    "2.1.0": {
      "date": "2025-11-09",
      "changes": [
        "新增简短命令格式（#标签代替tag:标签）",
        "支持直接输入文本作为关键词（无需keyword:前缀）",
        "新增 /setu help 帮助命令",
        "支持多种帮助命令格式（help/帮助/?/？）",
        "新增proxy配置，可自定义图片反代服务器",
        "保持向后兼容旧的冒号格式",
        "更新文档和使用示例"
      ]
    },
    "2.0.0": {
      "date": "2025-11-09",
      "changes": [
        "重写插件，改用Lolicon API v2",
        "新增标签AND/OR组合搜索",
        "新增关键词模糊搜索",
        "新增长宽比筛选功能",
        "新增AI作品排除选项",
        "支持合并转发格式",
        "全新的文档和使用说明"
      ]
    }
  }
}
